<!-- HTMX partial: Shortened URL result -->
<div class="animate-fadeIn space-y-4">
    <div class="flex items-center gap-2 mb-3">
        <div class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></div>
        <span class="text-sm font-medium text-emerald-400">Link created successfully!</span>
    </div>

    <div class="bg-gray-800/50 rounded-xl border border-gray-700/30 p-4">
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
            <!-- Short URL -->
            <div class="flex-1 min-w-0">
                <p class="text-xs text-gray-500 mb-1">Your short link</p>
                <a href="{{ url.short_url }}"
                   target="_blank"
                   class="text-lg font-semibold text-brand-400 hover:text-brand-300 font-mono truncate block transition-colors">
                    {{ url.short_url }}
                </a>
            </div>

            <!-- Copy button -->
            <button onclick="copyToClipboard('{{ url.short_url }}', this)"
                    class="inline-flex items-center gap-2 px-4 py-2 bg-brand-600/20 text-brand-400 hover:bg-brand-600/30 rounded-lg text-sm font-medium transition-all border border-brand-500/20 whitespace-nowrap">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                Copy Link
            </button>
        </div>

        <!-- Original URL -->
        <div class="mt-3 pt-3 border-t border-gray-700/30">
            <p class="text-xs text-gray-500 mb-1">Original URL</p>
            <p class="text-sm text-gray-400 truncate">{{ url.original_url }}</p>
        </div>
    </div>

    <!-- QR Code + Actions row -->
    <div class="flex flex-col sm:flex-row gap-4">
        <!-- QR Code -->
        <div class="bg-white rounded-xl p-4 w-fit">
            <div class="w-32 h-32">
                {{ qr_svg|safe }}
            </div>
        </div>

        <!-- Quick actions -->
        <div class="flex flex-col gap-2 flex-1">
            <p class="text-xs text-gray-500 font-medium uppercase tracking-wider">Quick Actions</p>

            <!-- Copy again -->
            <button onclick="copyToClipboard('{{ url.short_url }}', this)"
                    class="inline-flex items-center gap-2 px-4 py-2.5 bg-gray-800/50 hover:bg-gray-800 rounded-lg text-sm text-gray-300 hover:text-white transition-all border border-gray-700/30 w-full">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                Copy to clipboard
            </button>

            <!-- Share on Twitter/X -->
            <a href="https://twitter.com/intent/tweet?url={{ url.short_url|urlencode }}"
               target="_blank"
               class="inline-flex items-center gap-2 px-4 py-2.5 bg-gray-800/50 hover:bg-gray-800 rounded-lg text-sm text-gray-300 hover:text-white transition-all border border-gray-700/30 w-full">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                Share on X
            </a>

            {% if user.is_authenticated %}
            <!-- View analytics -->
            <a href="{% url 'analytics:detail' url.short_code %}"
               class="inline-flex items-center gap-2 px-4 py-2.5 bg-gray-800/50 hover:bg-gray-800 rounded-lg text-sm text-gray-300 hover:text-white transition-all border border-gray-700/30 w-full">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10"/>
                </svg>
                View Analytics
            </a>
            {% endif %}
        </div>
    </div>
</div>
